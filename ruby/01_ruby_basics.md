## 未分類


### 後置if
`式 if 式`  
右辺の条件が成立する時に、左辺の式を評価してその結果を返します。  
条件が成立しなければ nil を返します。  

### 絶対値に変換
```rb
p -3.abs
#=> 3
```

### 小数点以下N桁で切り捨て
floorメソッドを使う！[参考](https://qiita.com/tomokichi_ruby/items/e94a7336585f72b8a594#%E5%B0%8F%E6%95%B0%E7%82%B9%E4%BB%A5%E4%B8%8Bn%E6%A1%81%E3%81%A7%E5%88%87%E3%82%8A%E6%8D%A8%E3%81%A6)  
```rb
500.3333.floor
# 出力結果 ==> 500
```

### 範囲式もeachと一緒に使える
```rb
(1..3).each { |i| puts "..付き: #{i}" }
(1...3).each { |i| puts "...付き: #{i}" }

# 出力
..付き: 1
..付き: 2
..付き: 3
...付き: 1
...付き: 2
```

## 正規表現
### `+`= 1回以上の繰り返し
```rb
file_name = "wwwwwwwwww草生やしすぎwに注意ww"
puts file_name.gsub(/w+/, '🫶')　# w（1文字or連続）を🫶1つに変換する
puts file_name.gsub(/ww+/, '🫶') # w（連続）を🫶1つに変換する
puts file_name.gsub(/w+/, 'w')　 # ww...（イラッとする草）を w（広い心で見れば許せる草）に変換する

# 出力
🫶草生やしすぎ🫶に注意🫶
🫶草生やしすぎwに注意🫶
w草生やしすぎwに注意w
```


## 配列
### include?メソッド
指定した要素が、配列中に含まれているかを判定。[参考](https://qiita.com/mr0216/items/e3037408d0676e53481c)  
```rb
animals = ["お犬さま", "ゴリラ殿", "ヌコ様", "亀たそ"]
result = animals.include?("亀たそ") ? "Yes" : "No"
puts result

# 出力
Yes
```
※三項演算子にも慣れたい

### 同じメソッドでも、色んな使い方があるなぁと思った話
#### ①reverseメソッドは、前にsortがあるかどうかで出力が変わる
```rb
p [5,4,1,2,3].reverse #→ [3, 2, 1, 4, 5] （元の並び順を逆に出力）
p [5,4,1,2,3].sort.reverse #→ [5, 4, 3, 2, 1] （数字の降順：sortで昇順ソートした後、reverseで要素の順序を逆転するため、結果的に降順ソートになる。）
```
#### ②countメソッドも、以下のように書き方によって意味合いが変わる。
```rb
p  [1, 2, 4, 2.0].count #→ 4（配列に含まれる要素の数を数える）
p  [1, 2, 4, 2.0].count(2) #→ 2（配列に含まれる2の数を数える。2.0（浮動小数点数）は異なる値として扱う）
p  [1, 2, 4, 2.0].count{|x|x%2==0} #→ 3（配列に含まれる、2で割り切れる要素の数を数える）
```
### delete_atメソッド
配列から、引数に指定したインデックス番号の要素を削除して取り出す。  
  
▼例（[Ruby 3.4 リファレンスマニュアル ](https://docs.ruby-lang.org/ja/latest/method/Array/i/delete_at.html)から引用）
```rb
array = [0, 1, 2, 3, 4]
array.delete_at 2
p array             #=> [0, 1, 3, 4]
```
### insertメソッド
配列の任意の場所に要素を挿入する  
▼例（[Ruby 3.4 リファレンスマニュアル ](https://docs.ruby-lang.org/ja/latest/method/String/i/insert.html)から引用）
```rb
str = "foobaz"
str.insert(3, "bar")
p str   # => "foobarbaz"
```

### 📝mapメソッド
配列の各要素を変換した配列を作る

```rb
result = [1, 2, 3].map { |x|   # ←xに1 2 3が順に代入される
    x  * 2   # ←変換処理
}
#=> [2, 4, 6]
```

## ハッシュ
### キーと値の組を追加・削除する
- ハッシュへのキーと値の追加は `ハッシュ[キー] = 値`
- ハッシュは同じキーを複数持てない
- ハッシュから存在しないキーを取得すると、nil を得る
- `ハッシュ.default= キーがないときの値`で、ハッシュから存在しないキーを取得しようとした時の値を設定することもできる
- ハッシュ1とハッシュ2をまとめるときは、`ハッシュ1.merge(ハッシュ2)`
- ハッシュからの削除は、`ハッシュ.delete(キー)`

### ハッシュの繰り返し処理
```rb
# eachメソッド
ハッシュ.each do |キーの変数, 値の変数|
　繰り返し実行する処理
end

# each_keyメソッド
ハッシュ.each_key do |キーの変数|
  繰り返し実行する処理
end

# 値だけを繰り返しするeach_valueメソッドもある
```
